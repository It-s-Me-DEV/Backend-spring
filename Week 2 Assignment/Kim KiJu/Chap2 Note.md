# # #스프링 부트 공부하기 2장

# 2.1 스프링과 스프링 부트
---


- 스프링부트는 설정이 매우 복잡한 스프링을 쉽고 빠르게 만들어 주는 도구이다.
- 의존성 세트라고 불리는 스타터를 이용해 의존성을 간편하게 관리할 수 있다.
- 그 결과, 개발자는 비즈니스 로직에만 집중할 수 있다.

### 스프링 부트의 주요특징
---
1. WAS (톰캣, 제티 등의 웹어플리케이션 서버)가 내장되어 별도 설치없이 독립적인 실행 가능
2. 빌드 구성 단순화해주는 스프링 부트 스타터 제공.
3. XML설정을 하지않고 자바코드로만 작성가능
4. JAR을 써서 자바옵션만으로 배포가능
5. 스프링 액츄에이터(모니터링 관리도구) 제공


# 2.2 스프링 개념 공부하기
---

- IoC(제어의 역전): 객체를 직접생성 하지않고 외부에서 받아와 사용하는 것. 스프링 컨테이너가 만들어준 객체를 사용한다.
- DI(의존성 주입): 클래스가 다른 클래스에 의존한다. @Autowired 어노테이션은 스프링 컨테이너에 빈을 주입한다.
- 스프링 컨테이너: 빈을 생성하고 관리한다.
- 빈: 스프링 컨테이너가 생성하고 관리하는 객체이다. 다른 클래스에서 DI(의존성 주입)을 통해 재사용할 수 있도록 스프링에서 생성하고 관리하는 객체
- AOP(관점지향 프로그래밍): 핵심기능과 부가기능을 나누어서 프로그래밍하는 방식. 핵심기능은 비즈니스로직을 의미하고, 부가기능은 로깅, 보안, 트랜잭션같이 공통되고 반복적인 작업. 애스펙트(관점)단위로 나누어 개발
- PSA(서비스 추상화): 모듈화하여 어떤 기술이든 상관없이 일관된 방식으로 처리할 수 있도록하는 것. 특정기술에 종속되지않고 확장성과 유연성을 가질 수 있다.


# 2.3 스프링 부트 3 둘러보기
---

- 스프링 부트 스타터: 의존성을 모아놓은 그룹
Gradle-dependencies에 의존성 모아놓음
  
예시)
spring-boot-starter-test: 테스트를 하기위해 모아놓은 의존성 모음


- 스프링 부트2는 자바 8 버전이상을 요구
- 스프링 부트3는 자바 17 버전이상을 요구

#### 자바17버전 이상 문법
---
1. 텍스트 블록
기존에는 여러줄의 텍스트를 작성하려면 \n을 이용해야했지만 """ """ 로 감싸서 여러줄의 텍스트 사용가능

예시)

String query17 = """
    SELECT *
    FROM ACCOUNT
    WHERE nickname = '김%'; 
""";



2. formatted() 메서드: 문자열에 정해진 값을 삽입

예시)
String name = "Alice";
String message = "Hello, %s!".formatted(name);
System.out.println(message);  // "Hello, Alice!" 출력.  %s에 Alice가 대입된다.


3.레코드
4.패턴매칭
5.자료형에 맞는 case처리
6. 패키지 네임스페이스가 javax.*에서 jakartak.*로 변경. 스프링 부트 2버전을 사용한다면 패키지이름을  jakarta -> javax로 변경
7. GraalVM 스프링 네이티브 이미지를 공식지원. 가동시간이 짧아지고 메모리 적게 소모.


# 2.4 스프링 부트 3 코드


- SpringBootApplication.java -> 스프링 부트가 시작되는 곳.
- SpringBootApplication.run() -> 어플리케이션을 실행하는 메서드. 첫번째 매개변수: 스프링 부트 어플리케이션의 메인 클래스로 사용할 클래스, 두번째 매개변수: 커맨드라인의 인수들 전달
- @SpringBootApplication -> 스프링 부트의 기본 설정을 담당하는 핵심 어노테이션. , 컨트롤+클릭하여 자세히봐보자


# # # @SpringBootApplication 내부 살펴보기
---

- @SpringBootConfiguration -> 스프링 부트 관련 설정 어노테이션.

- @ComponentScan -> 사용자가 등록한 빈을 읽고 등록하는 어노테이션. @Component 뿐만아니라 @Service, @Repository, @Controller, @Configuration(이 어노테이션들도 결국 @Component 어노테이션을 들고있다.)도 스캔해서 빈으로 등록

- @EnableAutoConfiguration -> 자동설정을 활성화하는 어노테이션. 


# # # 테스트 컨트롤러 살펴보기
---

@RestController -> 라우터 역할 어노테이션. 라우터는 HTTP요청과 메서드를 연결하는 역할. 


- 라우터와 컨트롤러의 차이:

라우터 -> http요청을 컨트롤러내부의 메서드와 연결.

컨트롤러 -> 요청과 응답을 하는 비즈니스 로직을 담는 클래스
